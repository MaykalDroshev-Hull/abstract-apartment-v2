{"location":"app/reserve/page.tsx:231","message":"Creating apartment booking","data":{"payload":{"CheckInDT":"2026-02-20","CheckOutDT":"2026-02-26","FirstName":"Майкъл","LastName":"Дрошев","Telephone":"+447471887453","Comments":"Maiki testwa","PaidPrice":0,"apartmentid":1,"FullPrice":600}},"timestamp":1769552939425,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/api/bookings/route.ts:52","message":"POST /api/bookings called","data":{"checkInDT":"2026-02-20","checkOutDT":"2026-02-26","apartmentid":1,"firstName":"Майкъл","lastName":"Дрошев","telephone":"+447471887453","fullPrice":600},"timestamp":1769552939782,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/bookings/route.ts:60","message":"Customer insert result","data":{"customerId":113,"error":null},"timestamp":1769552940046,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/api/bookings/route.ts:70","message":"Attempting booking insert","data":{"bookingData":{"CheckInDT":"2026-02-20","CheckOutDT":"2026-02-26","CustomerID":113,"FullPrice":600,"PaidPrice":0,"Comments":"Maiki testwa","apartmentid":1},"checkInDT":"2026-02-20","apartmentid":1},"timestamp":1769552940048,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:75","message":"Booking insert result","data":{"error":{"code":"23505","details":"Key (\"CheckInDT\")=(2026-02-20) already exists.","hint":null,"message":"duplicate key value violates unique constraint \"Booking_Date_key\""},"errorCode":"23505","errorMessage":"duplicate key value violates unique constraint \"Booking_Date_key\"","errorDetails":"Key (\"CheckInDT\")=(2026-02-20) already exists.","errorHint":null},"timestamp":1769552940122,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:78","message":"Booking insert failed","data":{"error":{"code":"23505","details":"Key (\"CheckInDT\")=(2026-02-20) already exists.","hint":null,"message":"duplicate key value violates unique constraint \"Booking_Date_key\""},"errorCode":"23505","errorMessage":"duplicate key value violates unique constraint \"Booking_Date_key\"","errorDetails":"Key (\"CheckInDT\")=(2026-02-20) already exists.","errorHint":null},"timestamp":1769552940123,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/reserve/page.tsx:242","message":"Apartment booking response","data":{"status":500,"statusText":"Internal Server Error","body":"{\"error\":{\"code\":\"23505\",\"details\":\"Key (\\\"CheckInDT\\\")=(2026-02-20) already exists.\",\"hint\":null,\"message\":\"duplicate key value violates unique constraint \\\"Booking_Date_key\\\"\"}}","ok":false},"timestamp":1769552940129,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/reserve/page.tsx:247","message":"Apartment booking failed","data":{"status":500,"body":"{\"error\":{\"code\":\"23505\",\"details\":\"Key (\\\"CheckInDT\\\")=(2026-02-20) already exists.\",\"hint\":null,\"message\":\"duplicate key value violates unique constraint \\\"Booking_Date_key\\\"\"}}"},"timestamp":1769552940130,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/reserve/page.tsx:231","message":"Creating apartment booking","data":{"payload":{"CheckInDT":"2026-02-20","CheckOutDT":"2026-02-26","FirstName":"Майкъл","LastName":"Дрошев","Telephone":"+447471887453","Comments":"Maiki testwa","PaidPrice":0,"apartmentid":1,"FullPrice":600}},"timestamp":1769553372559,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/api/bookings/route.ts:52","message":"POST /api/bookings called","data":{"checkInDT":"2026-02-20","checkOutDT":"2026-02-26","apartmentid":1,"firstName":"Майкъл","lastName":"Дрошев","telephone":"+447471887453","fullPrice":600},"timestamp":1769553372754,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/bookings/route.ts:60","message":"Customer insert result","data":{"customerId":114,"error":null},"timestamp":1769553372934,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/api/bookings/route.ts:79","message":"Checking for existing booking","data":{"checkInDT":"2026-02-20","apartmentid":1,"existingBooking":2237},"timestamp":1769553373034,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:84","message":"Booking already exists, skipping insert","data":{"bookingId":2237,"checkInDT":"2026-02-20","apartmentid":1},"timestamp":1769553373036,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/reserve/page.tsx:242","message":"Apartment booking response","data":{"status":200,"statusText":"OK","body":"{\"success\":true,\"existing\":true,\"bookingId\":2237}","ok":true},"timestamp":1769553373045,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/reserve/page.tsx:252","message":"Creating studio booking","data":{"payload":{"CheckInDT":"2026-02-20","CheckOutDT":"2026-02-26","FirstName":"Майкъл","LastName":"Дрошев","Telephone":"+447471887453","Comments":"Maiki testwa","PaidPrice":0,"apartmentid":2,"FullPrice":450},"apartmentBookingSucceeded":true},"timestamp":1769553373046,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:52","message":"POST /api/bookings called","data":{"checkInDT":"2026-02-20","checkOutDT":"2026-02-26","apartmentid":2,"firstName":"Майкъл","lastName":"Дрошев","telephone":"+447471887453","fullPrice":450},"timestamp":1769553373064,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/bookings/route.ts:60","message":"Customer insert result","data":{"customerId":115,"error":null},"timestamp":1769553373122,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/api/bookings/route.ts:79","message":"Checking for existing booking","data":{"checkInDT":"2026-02-20","apartmentid":2,"checkError":"PGRST116"},"timestamp":1769553373187,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:91","message":"Attempting booking insert","data":{"bookingData":{"CheckInDT":"2026-02-20","CheckOutDT":"2026-02-26","CustomerID":115,"FullPrice":450,"PaidPrice":0,"Comments":"Maiki testwa","apartmentid":2},"checkInDT":"2026-02-20","apartmentid":2},"timestamp":1769553373188,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:98","message":"Booking insert result","data":{"error":null,"newBookingId":2240},"timestamp":1769553373247,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/bookings/route.ts:83","message":"Booking insert succeeded","data":{"checkInDT":"2026-02-20","apartmentid":2},"timestamp":1769553373248,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/reserve/page.tsx:260","message":"Studio booking response","data":{"status":200,"statusText":"OK","body":"{\"success\":true}","ok":true},"timestamp":1769553373260,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
